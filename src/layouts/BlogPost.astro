---
import { type CollectionEntry } from 'astro:content';
import Layout from './Layout.astro';
import { Picture } from 'astro:assets';

interface Props {
  post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;
const { Content } = await post.render();
---

<Layout title={post.data.title} description={post.data.description}>
  <article class="mx-auto max-w-3xl px-4 py-16 md:px-8">
    <a href="/blog" class="text-sm font-semibold text-wood-brown-700 hover:text-wood-brown-900">
      &larr; Kembali ke Blog
    </a>
    <h1 class="mt-6 font-serif text-4xl font-semibold text-wood-brown-800 sm:text-5xl">
      {post.data.title}
    </h1>
    <p class="mt-4 text-gray-500">
      Diterbitkan pada
      <time datetime={post.data.pubDate.toISOString()}>
        {new Date(post.data.pubDate).toLocaleDateString('id-ID', {
          year: 'numeric',
          month: 'long',
          day: 'numeric',
        })}
      </time>
    </p>
    <Picture
      src={`https://picsum.photos/seed/${post.slug}/800/400`}
      alt={post.data.title}
      class="mt-8 h-80 w-full rounded-lg object-cover"
      width={800}
      height={400}
    />
    <div class="prose mt-8 max-w-none">
      <Content />
    </div>
  </article>
</Layout>
