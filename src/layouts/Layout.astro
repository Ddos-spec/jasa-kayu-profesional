---
import '../styles/global.css';
import SEO from '../components/SEO.astro';

const { title = 'Serasi Parket Premium', description = 'Lebih dari 30 tahun pengalaman jasa kayu premium untuk lantai kayu, dinding, tangga, plafon, furniture built-in, hingga pergola outdoor di Jabodetabek.', canonical } = Astro.props;
---
<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <SEO title={title} description={description} canonical={canonical} />

    <link rel="icon" type="image/svg+xml" href="/icons/logo.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Google tag (gtag.js) -->
    <script type="text/partytown" async src="https://www.googletagmanager.com/gtag/js?id=G-DEHKJSEDYC"></script>
    <script type="text/partytown">
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-DEHKJSEDYC');
    </script>
  </head>
  <body class="min-h-screen bg-[#FFF8DC] text-[#2F2F2F]">
    <a href="#main-content" class="sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-50 focus:bg-wood-brown-800 focus:text-white focus:px-4 focus:py-2 focus:rounded-md">Skip to main content</a>
    <header class="sticky top-0 z-40 bg-[#FFF8DC]/90 backdrop-blur-lg shadow-sm">
      <div class="mx-auto flex max-w-6xl items-center justify-between px-4 py-4 md:px-8">
        <a href="#hero" class="flex items-center gap-3" aria-label="Serasi Parket Beranda">
          <img src="/icons/logo.svg" alt="Logo Serasi Parket" class="h-10 w-10" width="40" height="40" />
          <div class="flex flex-col">
            <span class="font-serif text-xl font-semibold text-wood-brown-800">Serasi Parket</span>
            <span class="text-sm text-[#666666]">Premium Wood Crafting</span>
          </div>
        </a>
        <nav class="hidden items-center gap-8 text-sm font-medium text-[#2F2F2F] lg:flex">
          <a href="/#layanan" class="transition hover:text-wood-brown-700">Layanan</a>
          <a href="/#mengapa" class="transition hover:text-wood-brown-700">Keunggulan</a>
          <a href="/#portofolio" class="transition hover:text-wood-brown-700">Portofolio</a>
          <a href="/#testimoni" class="transition hover:text-wood-brown-700">Testimoni</a>
          <a href="/blog" class="transition hover:text-wood-brown-700">Blog</a>
          <a href="/#kontak" class="transition hover:text-wood-brown-700">Kontak</a>
        </nav>
        <a href="https://wa.me/6281234567890?text=Halo%20Jasa%20Kayu%20Profesional%2C%20saya%20ingin%20konsultasi%20proyek%20kayu." class="hidden rounded-full bg-wood-brown-700 px-5 py-2 text-sm font-semibold text-white shadow-lg transition hover:bg-wood-brown-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-wood-brown-500 lg:inline-flex" target="_blank" rel="noopener noreferrer">
          Konsultasi Gratis
        </a>
        <button class="inline-flex h-10 w-10 items-center justify-center rounded-full border border-wood-brown-700 text-wood-brown-700 transition hover:bg-wood-brown-700 hover:text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-wood-brown-500 lg:hidden" aria-label="Toggle menu" aria-expanded="false" aria-controls="mobile-menu" id="mobile-menu-toggle">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="h-6 w-6" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
      <div id="mobile-menu" class="hidden border-t border-wood-brown-100 bg-[#FFF8DC] px-4 py-4 shadow-inner lg:hidden">
        <div class="flex flex-col gap-3 text-base font-medium text-[#2F2F2F]">
          <a href="/#layanan" class="rounded-lg px-3 py-2 hover:bg-wood-brown-100">Layanan</a>
          <a href="/#mengapa" class="rounded-lg px-3 py-2 hover:bg-wood-brown-100">Keunggulan</a>
          <a href="/#portofolio" class="rounded-lg px-3 py-2 hover:bg-wood-brown-100">Portofolio</a>
          <a href="/#testimoni" class="rounded-lg px-3 py-2 hover:bg-wood-brown-100">Testimoni</a>
          <a href="/blog" class="rounded-lg px-3 py-2 hover:bg-wood-brown-100">Blog</a>
          <a href="/#kontak" class="rounded-lg px-3 py-2 hover:bg-wood-brown-100">Kontak</a>
          <a href="https://wa.me/6281234567890?text=Halo%20Jasa%20Kayu%20Profesional%2C%20saya%20ingin%20konsultasi%20proyek%20kayu." target="_blank" rel="noopener noreferrer" class="btn-primary justify-center">Konsultasi Gratis</a>
        </div>
      </div>
    </header>
    <main id="main-content" class="isolate bg-[#FFF8DC]">
      <slot />
    </main>
    <slot name="footer" />

    <a href="https://wa.me/6281234567890?text=Halo%20Jasa%20Kayu%20Profesional%2C%20saya%20ingin%20konsultasi%20proyek%20kayu." class="fixed bottom-6 right-6 z-40 flex h-14 w-14 items-center justify-center rounded-full bg-[#25D366] text-white shadow-lg shadow-[#25D366]/40 transition hover:scale-105 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#128C7E]" target="_blank" rel="noopener noreferrer" aria-label="Konsultasi WhatsApp 24/7">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" class="h-7 w-7" aria-hidden="true">
        <path fill="currentColor" d="M16 3C9.4 3 4 8.4 4 15c0 2.4.7 4.7 2 6.7L4 29l7.5-1.9c1.9 1 4 1.6 6.5 1.6 6.6 0 12-5.4 12-12S22.6 3 16 3zm0 21.9c-2.1 0-4-.6-5.7-1.7l-.4-.3-4.5 1.2 1.2-4.4-.3-.5C5.2 18.1 4.6 16.6 4.6 15c0-6.2 5.1-11.3 11.4-11.3S27.4 8.8 27.4 15 22.2 24.9 16 24.9zm6.2-7.8c-.3-.1-1.8-.9-2.1-1s-.5-.1-.7.1-.8 1-.9 1.1-.3.2-.6.1-1.1-.4-2-1.3c-.7-.7-1.3-1.5-1.4-1.8-.1-.3 0-.4.1-.6.1-.1.3-.3.4-.5.1-.2.2-.3.3-.5.1-.2.1-.4 0-.5s-.7-1.7-.9-2.3c-.2-.6-.5-.5-.7-.5h-.6c-.2 0-.5.1-.7.3-.2.2-1 1-1 2.4s1 2.8 1.1 3c.1.2 2 3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.7.1.5-.1 1.8-.7 2.1-1.4.3-.7.3-1.3.2-1.4-.1 0-.3-.1-.6-.2z" />
      </svg>
    </a>

    <script is:inline>
      document.addEventListener('DOMContentLoaded', function() {
        const toggle = document.getElementById('mobile-menu-toggle');
        const menu = document.getElementById('mobile-menu');

        if (toggle && menu) {
          // Toggle menu on button click
          toggle.addEventListener('click', function(e) {
            e.stopPropagation();
            const isHidden = menu.classList.contains('hidden');
            if (isHidden) {
              menu.classList.remove('hidden');
              menu.classList.add('animate-fadeIn');
              toggle.setAttribute('aria-expanded', 'true');
            } else {
              menu.classList.add('hidden');
              menu.classList.remove('animate-fadeIn');
              toggle.setAttribute('aria-expanded', 'false');
            }
          });

          // Close menu when clicking a link
          menu.querySelectorAll('a').forEach(function(link) {
            link.addEventListener('click', function() {
              menu.classList.add('hidden');
              menu.classList.remove('animate-fadeIn');
              toggle.setAttribute('aria-expanded', 'false');
            });
          });

          // Close menu when clicking outside
          document.addEventListener('click', function(e) {
            if (!menu.contains(e.target) && !toggle.contains(e.target) && !menu.classList.contains('hidden')) {
              menu.classList.add('hidden');
              menu.classList.remove('animate-fadeIn');
              toggle.setAttribute('aria-expanded', 'false');
            }
          });

          // Close menu on Escape key
          document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && !menu.classList.contains('hidden')) {
              menu.classList.add('hidden');
              menu.classList.remove('animate-fadeIn');
              toggle.setAttribute('aria-expanded', 'false');
            }
          });
        }
      });
    </script>
  </body>
</html>
