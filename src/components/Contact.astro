---
const contactMethods = [
  {
    label: 'WhatsApp (24/7 Fast Response)',
    value: '+62 812-3456-7890',
    href: 'https://wa.me/6281234567890?text=Halo%20Jasa%20Kayu%20Profesional%2C%20saya%20ingin%20konsultasi%20proyek%20kayu.'
  },
  {
    label: 'Telepon Kantor',
    value: '(021) 123-4567',
    href: 'tel:0211234567'
  },
  {
    label: 'Email',
    value: 'info@jasakayuprofesional.com',
    href: 'mailto:info@jasakayuprofesional.com'
  }
];
---
<section id="kontak" class="section-anchor bg-[#FFF8DC] py-20 md:py-28">
  <div class="mx-auto max-w-6xl px-4 md:px-8">
    <div class="grid gap-12 lg:grid-cols-[1fr_0.8fr] lg:items-start">
      <div class="space-y-6">
        <span class="badge bg-wood-brown-100 text-wood-brown-800">Hubungi Kami</span>
        <h2 class="font-serif text-4xl font-semibold text-wood-brown-800 md:text-5xl">Wujudkan Proyek Kayu Impian Anda</h2>
        <p class="text-lg leading-relaxed text-[#4A4A4A]">
          Konsultan kami siap membantu mulai dari brainstorming konsep, pemilihan material, hingga estimasi biaya detail. Kami memberikan layanan konsultasi gratis, survei lokasi tanpa biaya, dan estimasi anggaran transparan untuk membantu Anda membuat keputusan terbaik.
        </p>
        <div class="grid gap-4 rounded-3xl border border-wood-brown-100 bg-[#FFFBF2] p-6 shadow-elegant md:grid-cols-2">
          <div class="flex items-start gap-3">
            <span class="mt-1 text-xl">✅</span>
            <div>
              <p class="font-semibold text-wood-brown-800">Survey Lokasi GRATIS</p>
              <p class="text-sm text-[#4A4A4A]">Tim kami datang ke lokasi untuk pengukuran detail dan analisis struktur.</p>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <span class="mt-1 text-xl">✅</span>
            <div>
              <p class="font-semibold text-wood-brown-800">Konsultasi Desain GRATIS</p>
              <p class="text-sm text-[#4A4A4A]">Diskusi konsep bersama designer interior untuk memastikan hasil sesuai impian.</p>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <span class="mt-1 text-xl">✅</span>
            <div>
              <p class="font-semibold text-wood-brown-800">Estimasi Biaya GRATIS</p>
              <p class="text-sm text-[#4A4A4A]">Detail perhitungan biaya transparan dengan beberapa opsi material.</p>
            </div>
          </div>
        </div>
        <div class="rounded-3xl border border-wood-brown-100 bg-white/70 p-6 shadow-elegant">
          <h3 class="font-serif text-2xl font-semibold text-wood-brown-800">Area Layanan</h3>
          <p class="mt-3 text-sm leading-relaxed text-[#4A4A4A]">
            Melayani Seluruh Jabodetabek & Sekitarnya: Jakarta, Bogor, Depok, Tangerang, Bekasi, Karawang, Sukabumi.
          </p>
          <ul class="mt-4 space-y-2 text-sm text-[#4A4A4A]">
            {contactMethods.map((method) => (
              <li key={method.label}>
                <a href={method.href} class="flex items-center justify-between gap-4 rounded-2xl border border-wood-brown-100 bg-white px-4 py-3 text-left transition hover:border-wood-brown-300 hover:shadow-md" target={method.href.startsWith('http') ? '_blank' : undefined} rel={method.href.startsWith('http') ? 'noopener noreferrer' : undefined}>
                  <span class="font-medium text-wood-brown-700">{method.label}</span>
                  <span class="text-sm text-[#4A4A4A]">{method.value}</span>
                </a>
              </li>
            ))}
          </ul>
        </div>
      </div>
      <div>
        <form id="contact-form" class="space-y-5 rounded-3xl border border-wood-brown-100 bg-white p-8 shadow-2xl" novalidate>
          <h3 class="font-serif text-2xl font-semibold text-wood-brown-800">Form Konsultasi Gratis</h3>
          <div class="grid gap-4 md:grid-cols-2">
            <div>
              <label for="nama" class="text-sm font-semibold text-wood-brown-700">Nama Lengkap</label>
              <input id="nama" name="nama" type="text" required placeholder="Tulis nama Anda" class="mt-2 w-full rounded-2xl border border-wood-brown-100 bg-[#FFFBF2] px-4 py-3 text-sm text-[#2F2F2F] focus:border-wood-brown-400 focus:outline-none focus:ring-2 focus:ring-wood-brown-200" />
              <p class="mt-1 hidden text-xs text-red-600" data-error="nama">Nama wajib diisi.</p>
            </div>
            <div>
              <label for="whatsapp" class="text-sm font-semibold text-wood-brown-700">No. WhatsApp</label>
              <input id="whatsapp" name="whatsapp" type="tel" required inputmode="tel" placeholder="Contoh: 081234567890" class="mt-2 w-full rounded-2xl border border-wood-brown-100 bg-[#FFFBF2] px-4 py-3 text-sm text-[#2F2F2F] focus:border-wood-brown-400 focus:outline-none focus:ring-2 focus:ring-wood-brown-200" pattern="^0[0-9]{9,13}$" />
              <p class="mt-1 hidden text-xs text-red-600" data-error="whatsapp">Masukkan nomor WhatsApp valid.</p>
            </div>
          </div>
          <div class="grid gap-4 md:grid-cols-2">
            <div>
              <label for="layanan" class="text-sm font-semibold text-wood-brown-700">Jenis Layanan</label>
              <select id="layanan" name="layanan" required class="mt-2 w-full rounded-2xl border border-wood-brown-100 bg-[#FFFBF2] px-4 py-3 text-sm text-[#2F2F2F] focus:border-wood-brown-400 focus:outline-none focus:ring-2 focus:ring-wood-brown-200">
                <option value="">Pilih layanan yang dibutuhkan</option>
                <option>Lantai Kayu Premium</option>
                <option>Dinding Kayu & Wall Cladding</option>
                <option>Tangga Kayu Artistik</option>
                <option>Plafon Kayu & Ceiling</option>
                <option>Furniture Kayu Built-in</option>
                <option>Pergola & Decking Outdoor</option>
              </select>
              <p class="mt-1 hidden text-xs text-red-600" data-error="layanan">Silakan pilih jenis layanan.</p>
            </div>
            <div>
              <label for="lokasi" class="text-sm font-semibold text-wood-brown-700">Lokasi Proyek</label>
              <input id="lokasi" name="lokasi" type="text" required placeholder="Contoh: Jakarta Selatan" class="mt-2 w-full rounded-2xl border border-wood-brown-100 bg-[#FFFBF2] px-4 py-3 text-sm text-[#2F2F2F] focus:border-wood-brown-400 focus:outline-none focus:ring-2 focus:ring-wood-brown-200" />
              <p class="mt-1 hidden text-xs text-red-600" data-error="lokasi">Lokasi proyek wajib diisi.</p>
            </div>
          </div>
          <div>
            <label for="budget" class="text-sm font-semibold text-wood-brown-700">Budget Estimasi</label>
            <input id="budget" name="budget" type="text" required placeholder="Contoh: 150 juta" class="mt-2 w-full rounded-2xl border border-wood-brown-100 bg-[#FFFBF2] px-4 py-3 text-sm text-[#2F2F2F] focus:border-wood-brown-400 focus:outline-none focus:ring-2 focus:ring-wood-brown-200" />
            <p class="mt-1 hidden text-xs text-red-600" data-error="budget">Mohon tulis estimasi budget.</p>
          </div>
          <div>
            <label for="deskripsi" class="text-sm font-semibold text-wood-brown-700">Deskripsi Kebutuhan</label>
            <textarea id="deskripsi" name="deskripsi" rows="4" required placeholder="Ceritakan kebutuhan Anda secara singkat" class="mt-2 w-full rounded-2xl border border-wood-brown-100 bg-[#FFFBF2] px-4 py-3 text-sm text-[#2F2F2F] focus:border-wood-brown-400 focus:outline-none focus:ring-2 focus:ring-wood-brown-200"></textarea>
            <p class="mt-1 hidden text-xs text-red-600" data-error="deskripsi">Deskripsi kebutuhan wajib diisi.</p>
          </div>
          <button type="submit" class="btn-primary w-full justify-center">Kirim Permintaan Konsultasi</button>
          <p id="form-success" class="hidden rounded-2xl bg-green-100 px-4 py-3 text-sm font-medium text-green-700">Terima kasih! Tim kami akan menghubungi Anda dalam 5 menit melalui WhatsApp.</p>
        </form>
      </div>
    </div>
  </div>
  <script type="module">
    const form = document.getElementById('contact-form');
    const successMessage = document.getElementById('form-success');

    form?.addEventListener('submit', (event) => {
      event.preventDefault();
      let isValid = true;

      form.querySelectorAll('input, select, textarea').forEach((field) => {
        const errorEl = form.querySelector(`[data-error="${field.id}"]`);
        if (field instanceof HTMLInputElement || field instanceof HTMLTextAreaElement || field instanceof HTMLSelectElement) {
          if (!field.checkValidity() || field.value.trim() === '') {
            field.classList.add('border-red-500');
            if (errorEl) {
              errorEl.classList.remove('hidden');
            }
            isValid = false;
          } else {
            field.classList.remove('border-red-500');
            if (errorEl) {
              errorEl.classList.add('hidden');
            }
          }
        }
      });

      if (isValid) {
        successMessage?.classList.remove('hidden');
        form.reset();
        setTimeout(() => {
          successMessage?.classList.add('hidden');
        }, 6000);
      }
    });
  </script>
</section>
